создаем API

элименты
- Сервер UDP для поиска конвертеров
- Сервер TCP socket для подключения конвертеров как клиентов
- Клиент TCP socket для подключения к конвертерам серверам
- Сервер HTTP для получения команд от стороннено сервера (страницы) = внешний API

Уровни
0) поиск и подключение конвертеров
1) реализация отдельных команд
2) макрокоманды


Текущее состояние системы


объект конвертеры converters
model+number=>
sock - указатель на сокет
lic_num - номер лицензии
cmd_id - счетчик команд
cmd - текущая команда = функция
lic_list - список установленных лицензий
адрес, название, режим, прошивка

объект контроллеры controllers
id, номер, адрес, модель, прошивка

объект карты - другой уровень cards
id, номер, роль, зоны

объект события - другой уровень events
id, время, контроллер, событие, карта, флаги



Структура функций выполняющих команды API
путь.имя (объект команды, объект ответа, функция )

объект команды
- ID конвертера
- команда в виде имени - оформляем как объект данные + функция

- данные
	номер лицензии
	ID пакета
	операция (команда)
	адрес контроллера
	параметры
	дополнительные данные


служебные функции
	расчет длины, контрольной суммы и упаковка 5 в 4
	преобразование 4 в 5 и проверка контрольной суммы

объект команды - commands
содержит все команды протокола 1 уровня



Протокол обмена с внешним сервером (страницей)









