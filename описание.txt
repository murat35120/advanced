создаем API

элименты
- Сервер UDP для поиска конвертеров
- Сервер TCP socket для подключения конвертеров как клиентов
- Клиент TCP socket для подключения к конвертерам серверам
- Сервер HTTP для получения команд от стороннено сервера (страницы)
- Сервер WS  для онлайн взаимодействия со сторонним сервером
- Клиент WS  для онлайн взаимодействия со сторонним сервером

Возможен частичный запуск серверов/клиентов, определяется в файле настроек или скрипте.
Напрмер: Базовый (минимальный) вариант.
- Сервер TCP socket для подключения конвертеров как клиентов
- Сервер HTTP для получения команд от стороннено сервера (страницы)

Уровни
1) реализация отдельных команд
2) макрокоманды
3) процессы (службы)
4) база данных
5) бизнес логика
6) отчеты
7) Клиенты (браузер)
8) Готовое ПО

HTTP сервер 
- получение конанд управления, трансляция ответов
- страница с кнопками для отправки команд и получения ответов
	каждая команда своя кнопка
1) отправляем команду в виде объекта
2) получаем ответ в виде объекта


Текущее состояние системы

сокеты 

объект конвертеры converters
id, номер, адрес, название, режим, прошивка

объект контроллеры controllers
id, номер, адрес, модель, прошивка

объект карты - другой уровень cards
id, номер, роль, зоны

объект события - другой уровень events
id, время, контроллер, событие, карта, флаги



Структура функций выполняющих команды API
путь.имя (объект команды, объект ответа, функция )

объект команды
- ID конвертера
- команда - тип (преобразуется в первый байт), последний байт ( 0x0D) вставляется автоматически.
	0x1E - работа с лицензиями. lic
	0x1F - работа с контроллерами. conv
	0x20 - работа с конвертером. cont
	...  другие имена
	read

- данные
	номер лицензии
	ID пакета
	операция (команда)
	адрес контроллера
	параметры
	дополнительные данные

по имени операция (команда) можно определить и команда - тип.

служебные функции
	расчет длины, контрольной суммы и упаковка 5 в 4
	преобразование 4 в 5 и проверка контрольной суммы

объект команды - commands
содержит все команды протокола 1 уровня







Протокол обмена с внешним сервером (страницей)









